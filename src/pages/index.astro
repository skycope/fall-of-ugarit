---
import Layout from '../layouts/Layout.astro';
import ScrollProgress from '../components/interactive/ScrollProgress.jsx';
import FloatingElement from '../components/interactive/FloatingElement.jsx';
import RevealImage from '../components/interactive/RevealImage.jsx';
import PaintStroke from '../components/interactive/PaintStroke.jsx';
import AnimatedText from '../components/interactive/AnimatedText.jsx';
import ParallaxSection from '../components/interactive/ParallaxSection.jsx';
import FadeIn from '../components/interactive/FadeIn.jsx';
---

<Layout title="The Fall of Ugarit | A Novella by Michael Cope">
  <ScrollProgress client:load />

  <!-- Ocean texture overlay -->
  <div class="fixed inset-0 ocean-texture pointer-events-none z-10"></div>

  <main class="relative">
    <!-- SCENE 1: OPENING - Title emerges from the deep -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden">
      <!-- Floating birds in background -->
      <FloatingElement client:visible className="absolute top-20 left-[10%] w-24 opacity-60" speed={0.3} direction="up" delay={0.5}>
        <img src="/assets/crow.jpg" alt="" class="w-full rounded-full shadow-2xl" />
      </FloatingElement>

      <FloatingElement client:visible className="absolute top-32 right-[15%] w-20 opacity-50" speed={0.4} direction="up" rotate delay={0.8}>
        <img src="/assets/tern.jpg" alt="" class="w-full rounded-full shadow-2xl" />
      </FloatingElement>

      <div class="relative z-20 text-center px-6">
        <FadeIn client:visible delay={0.2}>
          <p class="text-gold/80 text-sm tracking-[0.3em] uppercase mb-6">
            A Novella by
          </p>
        </FadeIn>

        <AnimatedText
          client:visible
          element="h1"
          className="font-serif text-6xl md:text-8xl lg:text-9xl font-medium tracking-tight mb-4"
          delay={0.4}
          stagger={0.08}
        >
          MICHAEL COPE
        </AnimatedText>

        <FadeIn client:visible delay={1.2}>
          <div class="mt-12">
            <p class="text-light-blue/60 text-lg italic">Scroll to enter the story</p>
            <div class="mt-4 animate-bounce">
              <svg class="w-6 h-6 mx-auto text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
              </svg>
            </div>
          </div>
        </FadeIn>
      </div>
    </section>

    <!-- SCENE 2: THE TITLE REVEAL with Paint Stroke -->
    <section class="relative min-h-screen flex items-center justify-center py-32">
      <div class="relative z-20 text-center px-6 max-w-5xl mx-auto">
        <PaintStroke client:visible className="py-8 md:py-12 mb-8">
          <h2 class="font-serif text-5xl md:text-7xl lg:text-8xl font-medium text-deep-blue italic">
            The Fall of Ugarit
          </h2>
        </PaintStroke>

        <FadeIn client:visible delay={0.8}>
          <p class="text-light-blue text-xl md:text-2xl leading-relaxed max-w-3xl mx-auto">
            An enchanting love story: rich, numinous and splendidly far-reaching.
          </p>
          <p class="text-gold/80 mt-4 text-lg">—Finuala Dowling</p>
        </FadeIn>
      </div>

      <!-- Floating shell -->
      <FloatingElement client:visible className="absolute bottom-20 left-[5%] w-32 opacity-70" speed={0.2} direction="up" delay={0.3}>
        <img src="/assets/shells.png" alt="" class="w-full drop-shadow-2xl" />
      </FloatingElement>
    </section>

    <!-- SCENE 3: ASHERAH RISES - The goddess figure -->
    <section class="relative min-h-[150vh] flex items-center justify-center overflow-hidden">
      <div class="absolute inset-0 flex items-center justify-center">
        <RevealImage
          client:visible
          src="/assets/asherah.png"
          alt="Asherah figure"
          className="w-[60vw] md:w-[40vw] max-w-xl h-auto"
          direction="up"
          delay={0.2}
          parallax
          parallaxSpeed={0.3}
        />
      </div>

      <div class="relative z-20 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center px-6 max-w-7xl mx-auto">
        <div class="lg:text-right">
          <FadeIn client:visible direction="left">
            <p class="text-gold text-sm tracking-[0.2em] uppercase mb-4">The Story</p>
            <h3 class="font-serif text-3xl md:text-5xl text-light-blue mb-6">
              Eliot believes he is God.
            </h3>
            <p class="text-light-blue/70 text-lg leading-relaxed">
              It could be an old man's delusion, but then again he might be right. Living in a backpacker's in the seaside suburb of False Bay during a plague, he can perceive from a distance whatever anyone is doing.
            </p>
          </FadeIn>
        </div>

        <div class="lg:col-start-2">
          <FadeIn client:visible direction="right" delay={0.3}>
            <p class="text-light-blue/70 text-lg leading-relaxed mb-6">
              Anyone, that is, except the new arrival to the neighbourhood, a woman who calls herself D.
            </p>
            <p class="text-light-blue/70 text-lg leading-relaxed">
              Their contemporary story is interwoven with a tale of Ugarit, a Bronze Age port in Northern Canaan. It's around 1200 BCE, and on the idyllic slopes of nearby mount Zaphon life continues in the ancient ways.
            </p>
          </FadeIn>
        </div>
      </div>
    </section>

    <!-- SCENE 4: THE ANCIENT WORLD - Artifacts -->
    <section class="relative py-32 overflow-hidden">
      <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-20">
          <FadeIn client:visible>
            <p class="text-gold text-sm tracking-[0.2em] uppercase mb-4">The Ancient World</p>
          </FadeIn>
          <AnimatedText
            client:visible
            element="h3"
            className="font-serif text-4xl md:text-6xl"
            delay={0.2}
            color="light"
          >
            But things change
          </AnimatedText>
        </div>

        <!-- Artifact grid with reveals -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8">
          <div class="col-span-2 row-span-2">
            <RevealImage
              client:visible
              src="/assets/chariot.jpg"
              alt="Ancient chariot"
              className="w-full h-full rounded-lg overflow-hidden"
              direction="left"
              delay={0}
            />
          </div>
          <RevealImage
            client:visible
            src="/assets/lyre.jpg"
            alt="Ancient lyre"
            className="w-full aspect-square rounded-lg overflow-hidden"
            direction="up"
            delay={0.2}
          />
          <RevealImage
            client:visible
            src="/assets/bottle.jpg"
            alt="Ancient vessel"
            className="w-full aspect-square rounded-lg overflow-hidden"
            direction="right"
            delay={0.3}
          />
          <div class="col-span-2">
            <RevealImage
              client:visible
              src="/assets/ibis.png"
              alt="Sacred ibis"
              className="w-full h-48 md:h-64 rounded-lg overflow-hidden"
              direction="up"
              delay={0.4}
            />
          </div>
        </div>

        <FadeIn client:visible delay={0.6} className="mt-16 text-center">
          <p class="text-light-blue/80 text-xl md:text-2xl leading-relaxed max-w-3xl mx-auto">
            The droughts and the marauders are coming, and the reign of the old gods, El and Asherah, may soon be over.
          </p>
        </FadeIn>
      </div>
    </section>

    <!-- SCENE 5: THE REVIEW -->
    <section class="relative min-h-screen flex items-center py-32 overflow-hidden">
      <FloatingElement client:visible className="absolute top-40 right-[10%] w-28 opacity-40" speed={0.5} direction="down">
        <img src="/assets/tern.jpg" alt="" class="w-full rounded-full" />
      </FloatingElement>

      <div class="max-w-4xl mx-auto px-6 text-center">
        <FadeIn client:visible>
          <svg class="w-16 h-16 mx-auto text-gold/40 mb-8" fill="currentColor" viewBox="0 0 24 24">
            <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
          </svg>
        </FadeIn>

        <AnimatedText
          client:visible
          element="blockquote"
          className="font-serif text-2xl md:text-4xl leading-relaxed mb-8"
          delay={0.2}
          stagger={0.02}
          color="light"
        >
          Cope weaves a magical and transporting story that seems to see everything. This is pared down work, lucid and calm. To write simply is hard work.
        </AnimatedText>

        <FadeIn client:visible delay={1}>
          <p class="text-gold text-lg">—Karen Schimke</p>
        </FadeIn>

        <FadeIn client:visible delay={1.2} className="mt-12">
          <p class="text-light-blue/60 text-lg italic max-w-2xl mx-auto">
            "It offers perspective: like going outside and looking up at the Milky Way and suddenly realising the true size of your problems."
          </p>
        </FadeIn>
      </div>
    </section>

    <!-- SCENE 6: THE AUTHOR -->
    <section class="relative py-32 overflow-hidden">
      <div class="max-w-6xl mx-auto px-6">
        <div class="grid lg:grid-cols-2 gap-16 items-center">
          <div class="relative">
            <FloatingElement client:visible speed={0.1} direction="up" floatAnimation={false}>
              <div class="relative">
                <div class="absolute -inset-4 bg-gold/20 rounded-full blur-3xl"></div>
                <RevealImage
                  client:visible
                  src="/assets/author.png"
                  alt="Michael Cope"
                  className="relative w-64 h-64 md:w-80 md:h-80 mx-auto rounded-full overflow-hidden border-4 border-gold/30"
                  direction="up"
                />
              </div>
            </FloatingElement>
          </div>

          <div>
            <FadeIn client:visible>
              <p class="text-gold text-sm tracking-[0.2em] uppercase mb-4">The Author</p>
            </FadeIn>

            <AnimatedText
              client:visible
              element="h3"
              className="font-serif text-4xl md:text-5xl mb-8"
              delay={0.2}
            >
              Michael Cope
            </AnimatedText>

            <FadeIn client:visible delay={0.6}>
              <p class="text-light-blue/70 text-lg leading-relaxed mb-6">
                Michael Cope is widely regarded as one of South Africa's finest poets. His work has earned critical acclaim for its precision, depth, and ability to find the extraordinary in the ordinary.
              </p>
              <p class="text-light-blue/70 text-lg leading-relaxed">
                <em>The Fall of Ugarit</em> marks his venture into prose—"pared down work, lucid and calm."
              </p>
            </FadeIn>
          </div>
        </div>
      </div>
    </section>

    <!-- SCENE 7: BUY SECTION with Paint Stroke -->
    <section class="relative min-h-screen flex items-center py-32" id="buy">
      <div class="max-w-4xl mx-auto px-6 text-center">
        <FadeIn client:visible>
          <p class="text-gold text-sm tracking-[0.2em] uppercase mb-4">Get Your Copy</p>
        </FadeIn>

        <PaintStroke client:visible className="py-6 md:py-10 mb-12" delay={0.2}>
          <h2 class="font-serif text-4xl md:text-6xl text-deep-blue">
            Order Now
          </h2>
        </PaintStroke>

        <FadeIn client:visible delay={0.6}>
          <div class="bg-deep-blue/50 backdrop-blur-sm rounded-2xl p-8 md:p-12 border border-gold/20 max-w-xl mx-auto">
            <p class="text-5xl font-serif text-gold mb-4">R180</p>
            <p class="text-light-blue/70 mb-8">
              Available in print. Delivered anywhere in South Africa.
            </p>

            <a
              href="mailto:order@example.com?subject=Order: The Fall of Ugarit&body=I would like to order a copy of The Fall of Ugarit."
              class="inline-flex items-center justify-center px-10 py-4 bg-gold text-deep-blue font-semibold rounded-full hover:bg-gold-light transition-all duration-300 hover:scale-105 active:scale-95"
            >
              Order Now
            </a>

            <p class="text-light-blue/50 text-sm mt-8">
              Secure payment via EFT, Snapscan, or card
            </p>
          </div>
        </FadeIn>

        <!-- Floating shells decoration -->
        <FloatingElement client:visible className="absolute bottom-20 right-[10%] w-24 opacity-50" speed={0.3} direction="up">
          <img src="/assets/shells.png" alt="" class="w-full" />
        </FloatingElement>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="relative py-16 border-t border-gold/20">
      <div class="max-w-6xl mx-auto px-6">
        <div class="flex flex-col md:flex-row justify-between items-center gap-8">
          <div class="text-center md:text-left">
            <p class="font-serif text-2xl text-gold italic">The Fall of Ugarit</p>
            <p class="text-light-blue/60 text-sm mt-2">A Novella by Michael Cope</p>
          </div>

          <nav class="flex gap-8 text-light-blue/70">
            <a href="#buy" class="hover:text-gold transition-colors">Order</a>
            <a href="mailto:contact@example.com" class="hover:text-gold transition-colors">Contact</a>
          </nav>

          <p class="text-light-blue/40 text-sm">
            © 2024 Michael Cope
          </p>
        </div>
      </div>
    </footer>
  </main>
</Layout>
